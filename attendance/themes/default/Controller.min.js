function accordion(e) {
    e.children("div").addClass("accordion-block").children("div:first-child").prepend("<b>+</b> ").click(function() {
        var t = $(this),
            n = t.parent();
        return n.hasClass("accordion-selected") ? !0 : (t.children("b:first-child").html("-"), e.find(".accordion-block > div:last-child").slideUp(), e.find(".accordion-selected").removeClass("accordion-selected").children("div").children("div:first-child > b:first-child").html("+"), void n.addClass("accordion-selected").children("div:last-child").slideDown())
    });
    var t = null,
        n = e.find(".accordion-default").length;
    return t = 0 !== n ? e.find(".accordion-default") : e.children("div:first-child"), null === t ? !0 : (e.children("div").children("div:last-child").slideUp(0), t.addClass("accordion-selected").children("div:first-child").children("b:first-child").html("-"), void t.children("div:last-child").slideDown(0))
}

function autoHeight(e) {
    if ("string" == typeof e && (e = $(e)), !e.length) return !1;
    var t = {};
    t["min-height"] = "auto", t.height = "auto", t["max-height"] = "320px", t.margin = "5px 0px 10px 0px", t.padding = "2px", t.border = "0px", t["border-radius"] = "0px", t["border-bottom"] = "1px solid #000", t.background = "transparent", t["word-wrap"] = "break-word", e.css(t).on("keyup keydown change", function() {
        if (!e.prop("scrollTop"))
            do {
                var t = e.prop("scrollHeight"),
                    n = e.height();
                e.height(n - 5)
            } while (t && t != e.prop("scrollHeight"));
        e.height(e.prop("scrollHeight") + 20)
    }).trigger("change"), "undefined" == typeof e.attr("placeholder") && ("string" == typeof e.attr("title") ? e.attr("placeholder", e.attr("title")) : "string" == typeof e.attr("name") ? e.attr("placeholder", ucfirst(e.attr("name"))) : e.attr("placeholder", "Type your text here."))
}

function autoWidth(e) {
    var t = {};
    t["min-width"] = "180px", t.width = "auto", t["max-width"] = "auto", t["min-height"] = "auto", t.height = "auto", t.margin = "5px 0px 10px 0px", t.padding = "2px", t.border = "0px", t["border-radius"] = "0px", t["border-bottom"] = "1px solid #000", t.background = "transparent", t["vertical-align"] = "middle", e.css(t).on("keydown keyup change", function() {
        for (var t = e.val(), n = 0, i = 0; i < t.length; i++) n += " " === t[i] ? .35 : 8;
        e.css("width", n + 15 + "px")
    }).trigger("change"), "undefined" == typeof e.attr("placeholder") && ("string" == typeof e.attr("title") ? e.attr("placeholder", e.attr("title")) : "string" == typeof e.attr("name") ? e.attr("placeholder", ucfirst(e.attr("name"))) : e.attr("placeholder", "Type your text here."))
}

function colorBlink(e, t, n) {
    if (!e.length) return !1;
    var i = e.attr("data-clrblnk-bg"),
        o = e.attr("data-clrblnk-clr");
    "undefined" == typeof i && (i = e.css("background-color"), e.attr("data-clrblnk-bg", i)), "undefined" == typeof o && (o = e.css("color"), e.attr("data-clrblnk-clr", o)), e.css({
        "background-color": t,
        color: n
    }).stop(!0, !0).animate({
        "background-color": i,
        color: o
    }, 1500)
}

function computeDatesDuration(e, t) {
    var n = 864e5,
        i = new Date(e),
        o = new Date(t);
    return Math.round(Math.abs((i.getTime() - o.getTime()) / n))
}

function computeRate(e, t) {
    var n = 0;
    return e = parseFloat(e), t = parseFloat(t), n = t / e, n = 100 * n
}

function consoleDev(e, t) {
    "string" != typeof t && (t = "Untitled");
    var n = $('input[type="hidden"][data-admin="admin"]');
    if (n.length) {
        var i = "=".repeat(50),
            o = "-".repeat(50);
        console.log(" "), console.log(i), console.log(t), console.log(o), console.log(e), console.log(i), console.log(" ")
    }
}

function dateRangeRestrict(e, t) {
    return "undefined" == typeof e || "undefined" == typeof t ? !0 : (e.initiateDatepicker(), t.initiateDatepicker(), void e.change(function() {
        var n = e.val();
        t.val(n).datepicker("option", "minDate", new Date(n))
    }))
}

function fieldReplicator(e) {
    if ("string" != typeof e.field) return !1;
    var t = function() {
            var t = $(e.container),
                n = "<div>" + t.html() + "</div>",
                i = function() {
                    var o = t.append(n).find("div:last-child");
                    o.find(e.field).addClass("empty-field").on("keyup change", function() {
                        var e = $(this).val().length;
                        0 === e ? $(this).addClass("empty-field") : $(this).removeClass("empty-field"), 0 === t.find(".empty-field").length && i()
                    }).on("blur focusout change", function() {
                        var e = $(this).val().length;
                        0 === e && t.find(".empty-field").length > 1 && o.remove()
                    }), "function" == typeof e.rowFn && e.rowFn(o)
                };
            t.html(""), i()
        },
        n = function() {
            var t = $(e.table);
            if ("undefined" == typeof t) return !0;
            var n = t.find("tbody").html(),
                i = function() {
                    var o = t.find("tbody").append(n).find("tr:last-child");
                    if (0 !== o.find(".datepicker").length && o.find(".datepicker").initiateDatepicker(), 0 !== o.find(".date-from").length && 0 !== o.find(".date-to").length) {
                        var a = o.find(".date-from"),
                            r = o.find(".date-to");
                        a.change(function() {
                            var e = $(this).val();
                            r.val(e).datepicker("option", "minDate", new Date(e))
                        })
                    }
                    o.find(e.field).addClass("empty-field").on("keyup change", function() {
                        var e = $(this).val().length;
                        0 === e ? $(this).addClass("empty-field") : $(this).removeClass("empty-field"), 0 === t.find(".empty-field").length && i()
                    }).on("blur focusout change", function() {
                        var e = $(this).val().length;
                        0 === e && t.find(".empty-field").length > 1 && o.remove()
                    }), "function" == typeof e.rowFn && e.rowFn(o)
                };
            t.find("tbody").html(""), i()
        };
    "string" == typeof e.container ? t() : "string" == typeof e.table && n()
}

function formMagic(e) {
    if ("string" == typeof e && (e = $(e)), !e.length) return console.error("JS formMagic(), parameter container do not exists."), !0;
    var t = e.find('input[type="radio"],  input[type="checkbox"]');
    t.length && t.each(function() {
        var e = $(this),
            t = $('[for="' + e.attr("id") + '"]');
        t.length && (t.css("cursor", "pointer"), e.change(function() {
            var n = "initial",
                i = "initial";
            e.is(":checked") && (n = "#006d2b", i = "#fff"), t.css({
                "background-color": n,
                color: i
            })
        }).trigger("change"))
    });
    var n = e.find('input[type="text"], input[type="email"], input[type="number"], input[type="date"], select, textarea');
    n.length && n.each(function() {
        var e = $(this),
            t = $('[for="' + e.attr("id") + '"]');
        t.length && e.focus(function() {
            t.css({
                "text-decoration": "underline",
                color: "#006d2b"
            })
        }).blur(function() {
            t.css({
                "text-decoration": "initial",
                color: "initial"
            })
        })
    })
}

function formMagicBeautify(e) {
    if ("string" == typeof e && (e = $(e)), !e.length) return console.error("JS formMagicBeautify(), parameter container do not exists."), !0;
    var t = e.find("select");
    t.length && t.each(function() {
        var e = "",
            t = $(this);
        e = '<div class="clickableSelect noselect" style="display: inline-block; vertical-align: middle;"></div>', t.hide(0).after(e);
        var n = t.next("div"),
            i = t.children("option");
        i.length && i.each(function() {
            var i = $(this),
                o = i.val();
            return null === o || "" === $.trim(o) ? !0 : (e = "<div>" + i.html() + "</div>", void n.append(e).children("div:last-child").attr("data-value", o).click(function(e) {
                e.preventDefault(), o !== t.val() && t.val(o).trigger("change")
            }))
        }), t.change(function() {
            n.children(".selected").removeClass("selected"), n.find('[data-value="' + t.val() + '"]').addClass("selected")
        })
    })
}

function formSubmit(e, t, n) {
    var i = null;
    if (e.length && e.is("form")) i = e;
    else {
        if ("undefined" == typeof e.form) return console.error("JS formSubmit() was called with an invalid 1st parameter."), !0;
        i = e.form
    }
    "function" == typeof e.success && (t = e.success), "function" == typeof e.error && (n = e.error), i.unbind("submit").off("submit").submit(function(o) {
        o.preventDefault();
        var a = function() {
            modalLoading("Sending data to the server, please wait...");
            var e = new FormData(i[0]),
                o = i.find('input[type="submit"]'),
                a = i.find("*:focus");
            a.length && a.blur(), o.length && "string" == typeof o.attr("name") && e.append(o.attr("name"), o.val()), o.hide(0), screenProtector(), $.ajax({
                url: i.attr("action"),
                type: i.attr("method"),
                data: e,
                cache: !1,
                contentType: !1,
                processData: !1,
                success: function(e) {
                    modalLoading("close"), o.length && o.show(0), "function" == typeof t && t(e), screenProtector("remove")
                },
                error: function() {
                    modalLoading("close"), o.length && o.show(0), "function" == typeof n && n(), console.error("JS formSubmit(), failed to communicate with the server with the URL " + i.attr("action") + " ."), screenProtector("remove")
                }
            })
        };
        "string" == typeof e.confirm ? modalContainer(e.confirm, "Form Submission Confirmation", {
            YES: a,
            NO: ""
        }) : a()
    })
}

function helperTool(e) {
    var t = {};
    t.display = "inline-block", t["max-width"] = "350px", t.padding = "7px 10px", t.border = "2px solid #084ED1", t["border-radius"] = "3px", t.background = "#FFF", t.position = "absolute", t["text-align"] = "initial", t["font-size"] = "initial", t["font-weight"] = "initial", e.prepend('<div style="padding-bottom: 5px; margin-bottom: 10px; border-bottom: 2px solid #000; font-weight: bold;">Information <a style="display: inline-block; float: right;" href="#CloseHelper">Close [x]</a></div>').css(t).addClass("container-helper-tool").hide(0).before('<div style="display: inline-block; padding: 3px 9px; border-radius: 100px; background: #084ED1; color: #FFF; cursor: pointer; font-size: 0.7em; font-weight: initial;">?</div>').prev("div").addClass("helpertool-trigger-icon").click(function() {
        return $(".helpertool-trigger-icon").html("?").css("background-color", "#084ED1"), e.is(":visible") ? (e.hide("fast"), !1) : ($(".container-helper-tool").hide("fast"), $(this).html("x").css("background-color", "#B50707"), void e.show("fast"))
    }), e.children("div:first-child").click(function() {
        $(".helpertool-trigger-icon").html("?").css("background-color", "#084ED1"), e.hide("fast")
    }).children("a").click(function(t) {
        t.preventDefault(), $(".helpertool-trigger-icon").html("?").css("background-color", "#084ED1"), e.hide("fast")
    })
}

function infiniteScroll(e) {
    return "function" != typeof e ? (console.error("Parameter for the infinite scroll is invalid. It is not a function."), !1) : void $(window).scroll(function() {
        var e = 30;
        $(document).height() - e, $(window).scrollTop() + $(window).height() - e
    })
}

function inViewport(e) {
    var t = !1,
        n = {
            top: e.offset().top,
            bottom: e.offset().top + e.outerHeight()
        },
        i = {
            top: $(window).scrollTop(),
            bottom: $(window).scrollTop() + $(window).height()
        };
    return n.bottom > i.top && n.top < i.bottom && (t = !0), t
}

function loadImgBGs(e) {
    if ("string" == typeof e && (e = $(e)), !e.length) return !0;
    var t = e.find("[data-load-background]");
    return t.length ? void t.each(function() {
        var e = $(this),
            t = e.attr("data-load-background");
        return t.length ? void e.css({
            background: "url('" + t + "') center center no-repeat scroll transparent"
        }).removeAttr("data-load-background") : !0
    }) : !0
}

function loadImgs(e) {
    if ("string" == typeof e && (e = $(e)), !e.length) return !0;
    var t = e.find("[data-load-img]");
    return t.length ? void t.each(function() {
        var e = $(this),
            t = e.attr("data-load-img");
        e.attr("id");
        if (!t.length) return !0;
        e.after('<img src="' + t + '" />');
        var n = e.next("img");
        $.each(this.attributes, function() {
            this.specified && n.attr(this.name, this.value)
        }), e.remove()
    }) : !0
}

function loadScript(e, t, n) {
    $.getScript(e).done(function() {
        "function" == typeof t && t()
    }).fail(function() {
        "function" == typeof n && n()
    })
}

function loadScripts(e) {
    "string" == typeof e && (e = $(e));
    var t = e.find("[data-script]");
    if (!e.length || !t.length) return !0;
    var n = [];
    t.each(function() {
        var e = $(this),
            t = e.attr("data-script").split(" ");
        $.each(t, function(t, i) {
            "function" == typeof window[i] && (window[i](e), n.push({
                Element: e,
                Script: i
            }))
        }), e.removeAttr("data-script")
    }), consoleDev(n, "Loaded Data Scripts")
}

function logout(e) {
    e.unbind().off().click(function(t) {
        t.preventDefault(), modalContainer('Confirm Logout?<br />Do not forget to logout from your other account(s) such as GMail/Lorma Mail account. <a href="http://mail.google.com/">http://mail.google.com/</a>', {
            YES: function() {
                window.location.href = e.attr("href")
            },
            NO: ""
        })
    })
}

function minimizePageNavigator(e) {
    if (!e.length) return !1;
    var t = e.closest("table");
    if (!t.length) return !0;
    var n = {};
    n.width = "100%", n["min-width"] = "100%", n["max-width"] = "100%", t.css(n);
    var i = t.children("thead"),
        o = "undefined" == typeof e.attr("colspan") ? "1" : e.attr("colspan"),
        a = i.find(".page-navigator-replica-container");
    a.length || (i.prepend('<tr><td colspan="' + o + '"></td></tr>'), a = i.children("tr:first-child").children("td").addClass("page-navigator-replica-container")), a.html("");
    var r = e.children(".page");
    if (1 == r.length) return !0;
    var l = function(e) {
            r.hide(0), e.show(0), e.prev(".page").show(0).prev(".page").show(0).prev(".page").show(0), e.next(".page").show(0).next(".page").show(0).next(".page").show(0)
        },
        d = e.children(".page:first-child"),
        s = e.children(".page:last-child"),
        c = e.children(".selected"),
        p = 1;
    r.each(function() {
        var e = $(this),
            t = parseInt(e.html());
        e.attr("data-page-no", t).click(function() {
            c = e, l(e)
        }), t > p && (p = t)
    }), l(c), e.prepend('<div class="page page-control" style="width: auto; padding: 6px 5px;">First Page</div><div class="page page-control">&lt;</div>').children(".page:first-child").addClass("page-first").click(function() {
        d.trigger("click"), c = e.children(".selected"), l(c)
    }).next(".page").addClass("page-next").click(function() {
        c = c.prev(".page"), c.trigger("click"), l(c)
    }), e.append('<div class="page page-control">&gt;</div><div class="page page-control" style="width: auto; padding: 6px 5px;">Last Page</div>').children(".page:last-child").addClass("page-last").click(function() {
        s.trigger("click"), c = e.children(".selected"), l(c)
    }).prev(".page").addClass("page-prev").click(function() {
        c = c.next(".page"), c.trigger("click"), l(c)
    }), e.append('<div class="display-inline-block" style="padding: 6px 0px 6px 10px; vertical-align: middle;">Page <input class="page-jump-box page-control box-style" type="number" value="' + c.attr("data-page-no") + '" style="width: 60px; margin: -6px 0px;" /> of ' + p + "</div>");
    var f = e.find(".page-jump-box.page-control");
    r.each(function() {
        var e = $(this);
        e.click(function() {
            f.val(parseInt(e.attr("data-page-no")))
        })
    });
    var u = null,
        h = 0;
    f.focusin(function() {
        h = f.val(), f.val("")
    }).focusout(function() {
        f.val().length || f.val(h)
    }).on("change keyup", function() {
        clearTimeout(u), u = setTimeout(function() {
            var t = parseInt(f.val()),
                n = e.find('[data-page-no="' + t + '"]');
            n.length ? (n.trigger("click"), f.blur().css({
                "background-color": "#00b211",
                color: "#fff"
            }).animate({
                "background-color": "#fff",
                color: "#000"
            }, 450)) : (f.blur().css({
                "background-color": "#b20000",
                color: "#fff"
            }).animate({
                "background-color": "#fff",
                color: "#000"
            }, 450), t > p ? (t = p, f.val(t).trigger("keyup")) : 1 > t && (t = 1, f.val(t).trigger("keyup")))
        }, 650)
    });
    var g = function() {
        a.html(e.html()), a.children("[data-page-no]").click(function() {
            var t = $(this).attr("data-page-no");
            e.find('[data-page-no="' + t + '"]').trigger("click"), g()
        }), a.find(".page-first").click(function() {
            e.find(".page-first").trigger("click"), g()
        }), a.find(".page-last").click(function() {
            e.find(".page-last").trigger("click"), g()
        }), a.find(".page-next").click(function() {
            e.find(".page-next").trigger("click"), g()
        }), a.find(".page-prev").click(function() {
            e.find(".page-prev").trigger("click"), g()
        });
        var t = a.find(".page-jump-box").val();
        a.find(".page-jump-box").focusin(function() {
            $(this).val("")
        }).blur(function() {
            $(this).val(t)
        }).on("keyup change", function() {
            t = $(this).val(), e.find(".page-jump-box").val(t).trigger("change")
        }).val(e.find(".page-jump-box").val())
    };
    g(), e.find(".page").click(function() {
        g()
    })
}

function modalContainer(e, t, n) {
    var i = {
        invalidParam: "JS modalContainer() failed due to invalid parameters."
    };
    if ("undefined" == typeof e) return console.error(i.invalidParam), !0;
    var o = "",
        a = null,
        r = "---",
        l = "string" == typeof t ? t : "Lorma ERP",
        d = {
            Close: ""
        },
        s = null;
    if ("string" == typeof e.contents) {
        switch ("undefined" == typeof e.type && (e.type = "alert"), e.type) {
            case "alert":
                "function" == typeof e.btnOK && (d = {
                    OK: e.btnOK
                });
                break;
            case "confirm":
                d = {
                    YES: e.btnYES,
                    NO: e.btnNO
                };
                break;
            case "prompt":
        }
        r = e.contents, l = "string" == typeof e.title ? e.title : l
    } else {
        if ("string" != typeof e) return console.error(i.invalidParam), !0;
        r = e, "object" == typeof t ? d = t : "object" == typeof n && (d = n)
    }
    modalContainerClose(), $("html, body").css("overflow", "hidden"), o = '<div id="modal-container"><div><div class="box-form-container"><div class="box-form-head">' + l + '</div><div class="box-form-body">' + r + '</div><div id="modal-btns" class="box-form-foot"></div></div></div></div>', $("body").append(o), a = $("#modal-container"), s = a.find("#modal-btns"), a.css({
        width: $(window).width() + "px",
        height: $(window).height() + "px"
    }), $.each(d, function(e, t) {
        o = '<input type="button" value="' + e + '" />', s.append(o).children('input[type="button"]:last-child').unbind().off().click(function(e) {
            e.preventDefault(), modalContainerClose(), "function" == typeof t && t()
        })
    });
    var c = s.children('input[type="button"]');
    if (c.length) {
        o = '<div id="modal-container-btns-clone" class="box-form-foot" style="display: none;"></div>', a.find(".box-form-body").before(o);
        var p = $("#modal-container-btns-clone"),
            f = p.css("border-top");
        p.css({
            "border-bottom": f,
            "border-top": "0px"
        }), c.each(function() {
            var e = $(this);
            p.append('<input type="button" value="' + e.val() + '" />');
            var t = p.children('input[type="button"]:last-child');
            t.click(function(t) {
                t.preventDefault(), e.trigger("click")
            })
        });
        var u = null,
            h = $("#modal-container").children("div");
        $(window).resize(function() {
            clearTimeout(u), u = setTimeout(function() {
                var e = h.height(),
                    t = window.innerHeight;
                e > t ? p.stop(!0, !0).slideDown("fast") : p.stop(!0, !0).slideUp("fast")
            }, 600)
        }).trigger("resize")
    }
    formMagic(a)
}

function modalContainerClose() {
    $("#modal-response-container, #modal-container").remove(), $("#modal-video-container").length || $("html, body").css("overflow", "initial")
}

function modalLoading(e) {
    var t = $("#modal-loading");
    if (t.length && (t.remove(), $("#modal-container").length || $("html, body").css("overflow", "initial")), "close" === e) return !0;
    $("html, body").css("overflow", "hidden");
    $("body").append('<div id="modal-loading"><span><div id="modal-message">' + e + '</div><div class="align-center"><span class="page-loading"></span></div></span></div>').children("#modal-loading").css({
        width: $(window).width() + "px",
        height: $(window).height() + "px"
    })
}

function modalResponse(e) {
    var t = "Notice",
        n = {
            Close: ""
        };
    "function" == typeof e.btnYes && (t = "Confirmation", n = {
        YES: e.btnYes,
        NO: e.btnNo
    }), modalContainer(e.message, t, n)
}

function modalResponseClose() {
    modalContainerClose()
}

function modalVideo(e, t) {
    var n = $("#modal-video-container");
    n.length && n.remove(), $("html, body").css("overflow", "hidden"), n = $("body").append('<div id="modal-video-container"><span><iframe width="560" height="315" src="' + e + '" frameborder="0" allowfullscreen></iframe><div class="margin-top align-center"><input type="button" value="Close" /></div></span></div>').children("#modal-video-container");
    var i = n.children("span"),
        o = n.find('input[type="button"][value="Close"]'),
        a = {};
    a.display = "block", a.width = $(window).width() + "px", a.height = $(window).height() + "px", a.position = "fixed", a.top = "0px", a.left = "0px", a["z-index"] = "15000", a.background = "rgba(0, 0, 0, 0.9)", a.overflow = "auto", a["text-align"] = "center", n.css(a);
    var a = {};
    a.display = "inline-block", a.margin = "5px 18px", a.padding = "15px 30px", a["border-radius"] = "3px", a.border = "2px solid #f7f7f7", a.background = "#f7f7f7", a["font-family"] = "Helvetica, Arial, Sans-Serif", a["font-size"] = "1em", a["line-height"] = "1.5em", a["text-align"] = "left", i.css(a), o.click(function(e) {
        e.preventDefault(), n.stop().fadeOut("fast", function() {
            n.remove()
        }), $("#modal-container").length || $("html, body").css("overflow", "initial")
    }), "string" == typeof t && t.length && i.prepend('<h3 class="margin-none margin-bottom align-center">' + t + "</h3>")
}

function number_format(e, t, n, i) {
    e = (e + "").replace(/[^0-9+\-Ee.]/g, "");
    var o = isFinite(+e) ? +e : 0,
        a = isFinite(+t) ? Math.abs(t) : 0,
        r = "undefined" == typeof i ? "," : i,
        l = "undefined" == typeof n ? "." : n,
        d = "",
        s = function(e, t) {
            var n = Math.pow(10, t);
            return "" + (Math.round(e * n) / n).toFixed(t)
        };
    return d = (a ? s(o, a) : "" + Math.round(o)).split("."), d[0].length > 3 && (d[0] = d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, r)), (d[1] || "").length < a && (d[1] = d[1] || "", d[1] += new Array(a - d[1].length + 1).join("0")), d.join(l)
}

function rainbowText(e) {
    var t = "",
        n = e.html().split(" "),
        i = 0,
        o = ["ff0000", "ff9900", "ffff00", "04ff00", "00fff6", "000cff", "ff00f2"];
    $.each(n, function(e, n) {
        if (n.length)
            for (var a = n.length, r = 0; a > r; r++) t += '<span style="color: #' + o[i] + ';">' + n[r] + "</span>", i++, i == o.length && (i = 0);
        else t += " "
    }), e.html(t)
}

function renderDataPrivacyNotice() {}

function renderMainMenu() {
    var e = null,
        t = $("#dashboard-link"),
        n = $("#logout-btn"),
        i = $("#main-menu");
    if (t.length && t.is(":visible")) e = t;
    else if (n.length && n.is(":visible")) e = n;
    else {
        if (!i.length || !i.is(":visible")) return !1;
        e = i
    }
    var o = "",
        a = {};
    a.Dashboard = URL_BASE + "Requests/", a.Requests = {}, a.Requests["Purchase Request"] = {
        "Create Purchase Request": URL_BASE + "Requests/Purchase/Create/",
        "Purchases Logbook": URL_BASE + "Requests/Purchase/Logbook/"
    }, a.Requests["Budget/Travel Request"] = {
        "Create Budget/Travel Request": URL_BASE + "Requests/Budget/Create/",
        "Budget Logbook": URL_BASE + "Requests/Budget/Logbook/",
        "Travel Logbook": URL_BASE + "ERPModule/Requests/Travels/DigitalLogbook/MyRequests/"
    }, a.Requests.Liquidation = {
        "Create Liquidation": URL_BASE + "ERPModule/Liquidation/Create/",
        "Liquidation Logbook": URL_BASE + "ERPModule/Liquidation/MyLiquidations/"
    }, a.Requests["Job Request"] = {
        "Create Job Request": URL_BASE + "Requests/Job/Create/",
        "Jobs Logbook": URL_BASE + "Requests/Job/Logbook/"
    }, a.Logout = URL_BASE + "logout/", $.each(a, function(e, t) {
        "string" == typeof t ? o += '<a href="' + t + '">' + e + "</a>" : (o += '<a href="#">' + e + '</a><span class="sub-menu">', $.each(t, function(e, t) {
            "string" == typeof t ? o += '<a href="' + t + '">' + e + "</a>" : (o += '<a href="#">' + e + '</a><span class="sub-menu">', $.each(t, function(e, t) {
                "string" == typeof t ? o += '<a href="' + t + '">' + e + "</a>" : (o += '<a href="#">' + e + '</a><span class="sub-menu">', $.each(t, function(e, n) {
                    "string" == typeof t && (o += '<a href="' + n + '">' + e + "</a>")
                }), o += "</span>")
            }), o += "</span>")
        }), o += "</span>")
    }), $("body").append('<div id="js-main-menu" style="font-family: \'Source Sans Pro\', Helvetica, Arial, Sans-Serif; font-weight: normal;">' + o + "</div>"), e.remove();
    var r = $("#js-main-menu");
    r.find("a").css({
        "font-size": "0.85em",
        "white-space": "nowrap"
    }), r.children(".sub-menu").each(function() {
        var e = $(this),
            t = e.prev("a");
        e.css("display", "inline-block").stop().slideUp(0), t.append('<img height="auto" width="15px" alt="" src="' + URL_BASE + 'images/icon-tinyarrow-down.png" class="display-inline-block align-middle" style="float: right; padding: 3px 1px; margin: 5px 0px 0px 5px; opacity: 1; border-radius: 15px; border: 2px solid #a0a0a0; background: #a0a0a0;" />').unbind("mouseenter").bind("mouseenter mouseover", function() {
            r.children(".sub-menu:visible").length && r.find(".sub-menu:visible").stop().slideUp("fast"), e.css("left", t.offset().left + "px").stop().slideDown("normal").bind("mouseleave", function() {
                $(this).stop().slideUp("fast")
            })
        })
    }), r.children(".sub-menu").children(".sub-menu").each(function() {
        var e = $(this),
            t = e.prev("a");
        e.css("display", "inline-block").stop().slideUp(0), t.append('<img height="auto" width="15px" alt="" src="' + URL_BASE + 'images/icon-tinyarrow-down.png" class="display-inline-block align-middle" style="float: right; padding: 3px 1px; margin: 5px 0px 0px 5px; opacity: 1; border-radius: 15px; border: 2px solid #a0a0a0; background: #a0a0a0;" />').unbind("mouseenter").bind("mouseenter", function() {
            var n = t.position();
            e.parent().find(".sub-menu:visible").length && e.parent().find(".sub-menu:visible").stop().slideUp("fast"), e.css({
                top: n.top + "px",
                left: n.left + t.width() + "px"
            }).stop().slideDown("normal").bind("mouseleave", function() {
                $(this).stop().slideUp("fast")
            })
        })
    }), r.find('[href="#"]').click(function(e) {
        return e.preventDefault(), !1
    }), r.find("[data-image]").each(function() {
        var e = $(this),
            t = e.attr("data-image");
        return t.length ? void e.prepend('<img width="auto" height="19px" class="display-inline-block align-middle" alt="" src="' + URL_BASE + "images/" + t + '" style="margin: 0px 5px 0px 0px; padding: 2px; border-radius: 15px; border: 1px solid #a0a0a0; background: #f7f7f7; opacity: 1;" />') : !0
    }), r.css("width", $(window).width() + "px"), r.parent().css("padding-top", r.height() + 15 + "px");
    var l = r.attr("data-scroll-to-top-button");
    if (r.length && "loaded" != l) {
        $("body").append('<div id="btn-scroll-to-top" class="noselect" title="Scroll to the top of the page"><img src="' + URL_BASE + 'images/scroll-to-top.png" width="20px" height="20px" alt="^" /></div>');
        var d = $("#btn-scroll-to-top");
        d.attr("data-scroll-to-top-button", "loaded"), d.click(function(e) {
            e.preventDefault(), $(this).fadeOut(50), $("html, body").animate({
                scrollTop: 0
            }, 600)
        });
        var s = null;
        $(window).scroll(function() {
            clearTimeout(s), s = setTimeout(function() {
                $(this).scrollTop() > 100 ? d.fadeIn() : d.fadeOut()
            }, 100)
        })
    }
}

function renderProgressBar(e, t) {
    var n = "7f7f7f",
        i = "3bb235";
    e >= 100 ? i = "35b29f" : 30 > e ? i = "b24635" : 60 > e ? i = "b28035" : 80 > e && (i = "95b235"), ("string" != typeof t || t.length < 1) && (t = number_format(e, 2) + " %");
    var o = '<div style="display: inline-block; width: 130px; padding: 1px 2px; background: #' + n + "; background: linear-gradient(to right, #" + i + " 0%, #" + i + " " + e + "%, #" + n + " " + e + "%, #" + n + " 100%); border: 1px solid #" + n + '; border-radius: 3px; text-align: center; vertical-align: middle; font-size: 1em; font-weight: normal; white-space: nowrap; color: #fff;">' + t + "</div>";
    return o
}

function renderTablePagination(e, t, n, i) {
    if (!e.length || !e.is("table")) return console.error("JavaScript renderTablePagination(), table invalid."), null;
    var o = e.children("thead"),
        a = e.children("tbody"),
        r = e.children("tfoot");
    o.length || (e.prepend("<thead></thead>"), o = e.children("thead")), a.length || (o.after("<tbody></tbody>"), a = e.children("tbody")), r.length || (a.after("<tfoot></tfoot>"), r = e.children("tfoot"));
    var l = t.url.length ? t.url : "",
        d = function() {
            a.html(""), r.html("")
        },
        s = function() {
            var e = t;
            "undefined" != typeof e.pageNo && delete e.pageNo, e.getNoOfPages = !0, $.ajax({
                url: l,
                type: "post",
                data: e,
                success: function(e) {
                    var t = parseInt(e),
                        n = r.find(".pagenav-container"),
                        l = 0;
                    o.children("tr:first-child").children("td, th").each(function() {
                        var e = $(this);
                        l += "undefined" == typeof e.attr("colspan") ? 1 : parseInt(e.attr("colspan"))
                    }), n.length || (r.html('<tr><td class="pagenav-container" colspan="' + l + '"></td></tr>'), n = r.find(".pagenav-container"));
                    for (var d = t; d >= 1; d--) {
                        var s = d;
                        i ? n.append('<div class="page">' + s + "</div>") : n.prepend('<div class="page">' + s + "</div>")
                    }
                    n.children(".page").click(function() {
                        var e = $(this),
                            t = parseInt(e.html());
                        $(".pagenav-container, .page-navigator-replica-container").closest("tr").css("visibility", "hidden"), a.html(""), n.children(".page.selected").removeClass("selected"), e.addClass("selected"), c(t)
                    }), n.children(".page:first-child").trigger("click"), minimizePageNavigator(n)
                }
            })
        },
        c = function(e) {
            var i = t;
            "undefined" != typeof i.getNoOfPages && delete i.getNoOfPages, i.pageNo = e, $.ajax({
                url: l,
                type: "post",
                data: i,
                success: function(e) {
                    $(".pagenav-container, .page-navigator-replica-container").closest("tr").css("visibility", "");
                    try {
                        var t = JSON.parse(e);
                        $.each(t, function(e, t) {
                            if ("function" == typeof n) n(t);
                            else {
                                var i = 0;
                                o.children("tr:first-child").children("td, th").each(function() {
                                    var e = $(this),
                                        t = "undefined",
                                        n = typeof e.attr("colspan");
                                    i += n === t ? 1 : parseInt(e.attr("colspan"))
                                }), a.append('<tr><td colspan="' + i + '">' + t + "</td></tr>")
                            }
                        })
                    } catch (i) {
                        console.error(i)
                    }
                }
            })
        };
    return d(), s(), e
}

function renderTabularPagination(e, t, n, i) {
    var o = e,
        a = t,
        r = n,
        l = i;
    if ("undefined" == typeof o) return console.error("The table to render the tabular pagination doesn't exists."), !1;
    if ("object" == typeof o.table && o.table.is("table") && "undefined" == typeof a) {
        var d = o.buttons,
            o = o.table,
            s = o.children("thead"),
            c = o.children("tbody"),
            p = o.children("tfoot"),
            f = s.children("tr:first-child"),
            u = 0;
        if (f.length && f.children("th, td").each(function() {
                var e = $(this),
                    t = e.attr("colspan");
                u += "undefined" == typeof t ? 1 : parseInt(t)
            }), Object.keys(d).length) {
            var h = p.children("tr").children(".table-pagination-navigation");
            h.length || (p.append('<tr style="border-top: 1px dashed #b2b2b2;"><td class="table-pagination-navigation padding-top" colspan="' + u + '"></td></tr>'), h = p.children("tr").children(".table-pagination-navigation")), h.html(""), $.each(d, function(e, t) {
                h.append('<input type="button" value="' + e + '" />');
                var n = h.children('input[type="button"]:last-child');
                n.click(function(e) {
                    e.preventDefault(), "function" == typeof t && t(n)
                })
            }), h.children('input[type="button"]:first-child').trigger("click")
        } else console.error("JS Tabular Pagination: There are no buttons to render.");
        return !0
    }
    var c = o.children("tbody"),
        p = o.children("tfoot"),
        g = 1,
        v = 1,
        m = 1;
    if ("undefined" == typeof l && (l = 30), "undefined" == typeof r && (r = !1), c.length || (c = o.append("<tbody></tbody>").children("tbody")), p.length || (p = o.append("<tfoot></tfoot>").children("tfoot")), !a.length) return console.error("There are no data to render the tabular pagination."), !1;
    r === !0 && a.reverse(), $.each(a, function(e, t) {
        if ("string" == typeof t) var n = t;
        else {
            if ("object" != typeof t) return console.error("JS Tabular Pagination: Skipping a row data because it is empty or invalid."), !0;
            var n = t[0],
                i = t[1],
                a = null;
            if ("string" != typeof n) return !0;
            c.append(n)
        }
        var a = null;
        r === !0 ? (c.prepend(n), a = c.children("tr:first-child")) : (c.append(n), a = c.children("tr:last-child")), a.attr("data-pagination-page", g), "function" == typeof i && i(o, c, a), v > l ? (v = 1, g++, m++) : v++
    });
    var b = c.children("tr:first-child").children("td"),
        x = 0;
    b.each(function() {
        var e = b.attr("colspan");
        "undefined" != typeof e ? (e = parseInt(e), x += e) : x++
    });
    var y = p.find("tr.page-navigation-container").children("td");
    y.length ? y.html("") : y = p.append('<tr class="page-navigation-container"><td colspan="' + x + '" style="padding: 5px 0px;"></td></tr>').children("tr:last-child").children("td");
    for (var e = 1; m >= e; e++) {
        var w = '<div style="display: inline-block; min-width: 38px; margin: 0px 1px 10px 0px; padding: 2px 4px; background: #fff; border: 1px solid #4c4c4c; border-radius: 3px; color: #4c4c4c; text-align: center; cursor: pointer;">' + e + "</div>";
        r === !0 ? y.prepend(w) : y.append(w)
    }
    y.children("div").click(function(e) {
        e.preventDefault();
        var t = $(this),
            n = parseFloat(t.html());
        return t.hasClass("selected-page") ? !1 : (y.children(".selected-page").removeClass("selected-page").css({
            "background-color": "#fff",
            "border-color": "#4c4c4c",
            color: "#4c4c4c"
        }), t.addClass("selected-page").css({
            "background-color": "#81b259",
            "border-color": "#537239",
            color: "#fff"
        }), c.children("tr:visible").hide(0), void c.children('[data-pagination-page="' + n + '"]').show(0))
    }), y.children("div:first-child").trigger("click")
}

function scrollElementToTop(e) {
    if (!e.length) return console.error("HTML DOM " + e + " doesn't exists."), !1;
    var t = $("#js-main-menu"),
        n = t.length ? parseFloat(t.height()) + parseFloat(t.css("margin-top")) + parseFloat(t.css("padding-top")) + parseFloat(t.css("margin-bottom")) + parseFloat(t.css("padding-bottom")) + 5 : 5,
        i = 10;
    $([document.documentElement, document.body]).animate({
        scrollTop: parseFloat(e.offset().top) - n
    }, i)
}

function searchAjax(e, t) {
    var n = null;
    e.on("keyup focusin", function(i) {
        var o = parseInt(i.which),
            a = $.trim(e.val());
        clearTimeout(n), n = setTimeout(function() {
            13 != o && a.length >= 3 && $.ajax({
                url: t,
                type: "post",
                data: {
                    keyword: a
                },
                success: function(t) {
                    try {
                        var n = JSON.parse(t),
                            i = $("#search-ajax-container");
                        i.length || ($("body").append('<div id="search-ajax-container"></div>'), i = $("#search-ajax-container")), i.html("").css({
                            display: "block",
                            position: "absolute",
                            top: e.position().top + e.height() + 6,
                            left: e.position().left
                        }), $.each(n, function(t, n) {
                            if ($.trim(e.val()) == $.trim(n.value)) return !0;
                            i.append('<div><input type="button" value="' + n.display + '" style="width: 100%; text-align: left;" /></div>');
                            var o = i.children("div:last-child");
                            o.children("input").click(function() {
                                e.val(n.value).focus(), i.remove()
                            })
                        }), e.focusout(function() {
                            $("#search-ajax-container").length && !$("#search-ajax-container").filter(":hover").length && i.remove()
                        })
                    } catch (o) {
                        console.error(o)
                    }
                }
            })
        }, 700)
    })
}

function screenProtector(e) {
    var t = $("#page-screen-protector");
    return "remove" === e ? (t.length && t.remove(), !0) : void(t.length || ($("body").append('<div id="page-screen-protector"></div>'), t = $("#page-screen-protector"), t.css({
        display: "block",
        background: "rgba(0, 153, 255, 0.35)",
        position: "fixed",
        top: "0px",
        left: "0px",
        "z-index": "1",
        cursor: "progress"
    }), $(window).resize(function() {
        t.length && t.css({
            width: $(window).width() + "px",
            height: $(window).height() + "px"
        })
    }).trigger("resize")))
}

function systemBootstrap() {
    $("html,body").show(0).css({
        overflow: ""
    });
    var e = $(".announcement-row-header"),
        t = $("#show-all-announcements");
    e.length && ($("html").css({
        padding: "0px",
        background: "url('" + URL_BASE + "images/patterns/1.jpg') center center repeat scroll #fff"
    }).children("body").css({
        margin: "0px",
        background: "rgba(255,255,255,0.7)"
    }).find("#pageBody").css({
        margin: "20px 40px 0px 40px"
    }), e.hover(function() {
        $(this).css("color", "#aa0d2d")
    }, function() {
        $(this).css("color", "")
    }).click(function() {
        var e = $(this).closest(".announcement-row"),
            t = $(this).width(),
            n = $(this).siblings(".announcement-row-contents");
        n.css("width", t + "px"), n.is(":visible") ? (n.slideUp(), e.css("background-color", "#e2f7ff")) : (n.slideDown(), e.css("background-color", "#e2ffec"))
    }).each(function() {
        $(this).tooltip("Click to view the contents of the announcement:<br />" + $(this).html())
    }), t.length && t.attr("data-state", "show").click(function(e) {
        e.preventDefault();
        var t = $(this).attr("data-state"),
            n = $(this).parent("div").width();
        "show" === t ? ($(this).attr("data-state", "hide"), $(".announcement-row-contents").slideDown().closest(".announcement-row").css({
            width: n + "px",
            "background-color": "#e2ffec"
        })) : "hide" === t ? ($(this).attr("data-state", "show"), $(".announcement-row-contents").slideUp().closest(".announcement-row").css({
            "background-color": "#e2f7ff"
        })) : $(this).attr("data-state", "show").trigger("click")
    }).wrap("<div>").parent("div").css({
        margin: "0px 0px 5px 0px"
    }), e.each(function() {
        return $(this).trigger("click"), !1
    }));
    var n = $(".logout-confirm");
    n.length && logout(n), renderMainMenu();
    var i = $("#loading-page-notifier");
    i.length && i.addClass("noselect").css({
        opacity: 1,
        cursor: "pointer"
    }).click(function(e) {
        e.preventDefault(), i.remove()
    });
    var o = $("html");
    formMagic(o), loadImgs(o), loadImgBGs(o), loadScripts(o);
    var a = $("#js-main-menu");
    a.length && systemBootstrap_checkSession(), systemBootstrap_marqueePageTitle(), renderDataPrivacyNotice(), $(document).bind("click mousemove", function() {
        return a.length ? void(a.filter(":hover").length || a.find(".sub-menu").slideUp("fast")) : !0
    });
    var r = null;
    $(window).on("load", function() {
        a.length || renderMainMenu(), i.length && i.remove()
    }).resize(function() {
        clearTimeout(r), r = setTimeout(function() {
            var e = $("#session-expiration-note,#modal-loading,#modal-container,#modal-video-container");
            e.length && e.css({
                width: $(window).width() + "px",
                height: $(window).height() + "px"
            }), a.length && e.css({
                width: $(window).width() + "px"
            }).find(".sub-menu").slideUp("fast")
        }, 100)
    }).trigger("resize")
}

function systemBootstrap_checkSession() {
    var e = ($(window), !0),
        t = 500,
        n = null,
        i = function() {
            $.ajax({
                url: URL_BASE + "ERPModule/System/CheckSession/",
                type: "get",
                data: {
                    checkSession: ""
                },
                success: function(o) {
                    n = setTimeout(function() {
                        e && i()
                    }, t);
                    try {
                        o = JSON.parse(o);
                        var a = 0,
                            r = $("#login-session-notification-container"),
                            l = "";
                        if (o.SystemAccess === !1 && (l += '<div style="margin: 0px 0px 20px 0px;"><h3 style="margin: 0px 0px 10px 0px; font-weight: normal; color: #b21515;">System Access/Login Session Expired</h3><div style="margin: 0px 0px 20px 0px;">Your login session in the system had expired. You need to login again if you want to continue using the system.</div><div style="margin: 0px 0px 5px 0px;"><a href="' + URL_BASE + '" target="_blank">Open a new tab/window then login.</a></div></div>', a++), o.GoogleDrive === !1 && (l += '<div style="margin: 0px 0px 20px 0px;"><h3 style="margin: 0px 0px 10px 0px; font-weight: normal; color: #b21515;">Google Drive Access Token Expired/Invalid</h3><div style="margin: 0px 0px 20px 0px;">Some of your file uploads/attachments will fail. You need to re-authenticate using the links that are provided below.</div><div style="margin: 0px 0px 5px 0px;"><a href="' + URL_BASE + 'ERPModule/GoogleDriveAPI/Authorization/?checkSession=" target="_blank">Open a new tab/window then re-authenticate.</a></div></div>', a++), 0 === a && r.length) r.remove();
                        else if (a) {
                            r.length || ($("body").append('<div id="login-session-notification-container"></div>'), r = $("#login-session-notification-container"));
                            var d = {};
                            d["max-width"] = "500px", d.position = "fixed", d.right = "2px", d.bottom = "2px", d["z-index"] = "999", d.padding = "40px", d.background = "#fff", d.background = "rgba(255, 255, 255, 0.98)", d["box-shadow"] = "-2px -2px 3px rgba(0, 0, 0, 0.35)", d.border = "2px solid #333", d["border-color"] = "rgba(0, 0, 0, 0.35)", d.color = "#333", d["text-align"] = "left";
                            var s = {};
                            s.color = "#0b74c4", r.addClass("noselect").css(d).html(l).find("a[href]").css(s)
                        }
                    } catch (c) {
                        console.error("Check Session Error : " + c)
                    }
                }
            })
        };
    i()
}

function systemBootstrap_marqueePageTitle() {
    var e = $("title");
    if (e.length) {
        var t = e.html(),
            n = 20,
            i = t.length;
        if (i > n) {
            var o = 0,
                a = "right",
                r = null;
            setInterval(function() {
                return null !== r ? (r++, r > 20 && (r = null), !0) : ("right" === a ? (o++, o >= i - n && (a = "left", r = 0)) : "left" === a && (o--, 0 == o && (a = "right", r = 0)), void e.html(t.substr(o, n)))
            }, 150)
        }
    }
}

function textboxSearch(e, t, n) {
    if ("undefined" == typeof e || !e.length || "undefined" == typeof t || "string" != typeof t.url || "function" != typeof n) return console.error("ERROR: textboxSearch() was called with invalid parameters."), !0;
    "string" != typeof t.type && (t.type = "post"), "undefined" == typeof e.attr("placeholder") && e.attr("placeholder", "Type your search query here.");
    var i = null,
        o = function() {
            var o = e.val(),
                a = e.next(".textbox-search-suggest-results");
            if (o.length < 3) return a.length && a.remove(), !0;
            a.length || (a = e.after('<div class="textbox-search-suggest-results"></div>').next("div.textbox-search-suggest-results"));
            var r = a.parent();
            "undefined" == typeof r.attr("data-default-position-textbox-search") && r.attr("data-default-position-textbox-search", r.css("position")), r.css("position", "relative"), a.css({
                display: "inline-block",
                position: "absolute",
                top: e.position().top + e.outerHeight() + "px",
                left: e.position().left + "px"
            }), a.html("<div>Searching entries that matches `" + o + "`, please wait...</div>"), e.blur(function() {
                e.next(".textbox-search-suggest-results").length && !e.next(".textbox-search-suggest-results").filter(":hover").length && (a.remove(), clearTimeout(i), r.css("position", r.attr("data-default-position-textbox-search"))), a.mouseleave(function() {
                    $(this).remove(), clearTimeout(i), r.css("position", r.attr("data-default-position-textbox-search"))
                })
            }), $.ajax({
                url: t.url,
                type: t.type,
                data: {
                    "search-keyword": o,
                    keyword: o
                },
                success: function(e) {
                    try {
                        var t = JSON.parse(e);
                        if ("undefined" == typeof t[0] && a.length) throw "The results are empty.";
                        a.html(""), $.each(t, function(e, t) {
                            a.append("<div>" + t.display + "</div>");
                            var i = a.children("div:last-child");
                            i.click(function() {
                                n(t), a.remove(), r.css("position", r.attr("data-default-position-textbox-search"))
                            })
                        })
                    } catch (i) {
                        console.error(i), a.length && a.html("<div>There are no entries that matches your keyword.</div>")
                    }
                }
            })
        };
    e.attr("autocomplete", "off").on("focusin", function() {
        clearTimeout(i), o()
    }).on("keydown", function(e) {
        return clearTimeout(i), 13 == e.which ? (o(), !0) : void(i = setTimeout(function() {
            o()
        }, 600))
    })
}

function ucfirst(e) {
    if ("string" != typeof e) return e;
    var t = e.charAt(0).toUpperCase(),
        n = t + e.substring(1);
    return n
}

function validateFileUpload(e) {
    var t = e.form,
        n = e.container,
        i = e.error,
        o = e.success;
    if (!t.length || "object" != typeof t) return console.error("validateFileUpload(): param['form'] was not set properly."), !1;
    if (!n.length || "object" != typeof n) return console.error("validateFileUpload(): param['container'] was not set properly."), !1;
    var a = new FormData(t[0]);
    a.append("validate-file-upload", "validate"), $.ajax({
        url: URL_BASE + "ERPModule/ValidateFileUpload/",
        type: "post",
        data: a,
        async: !1,
        cache: !1,
        contentType: !1,
        processData: !1,
        success: function(e) {
            var t = $("#file-upload-validation-result");
            if ("ok" === e) return "function" == typeof o && o(), t.length && t.remove(), !1;
            t.length || (n.css("margin-bottom", "20px").after('<div id="file-upload-validation-result" style="margin-bottom: 20px; color: #E50602;"><b>WARNING!</b> File uploads has been tested, errors will be encountered.</div>'), t = n.next("#file-upload-validation-result"));
            var a = t.find("[data-upload-filename]");
            a.length && a.remove();
            var r;
            try {
                r = JSON.parse(e)
            } catch (l) {
                console.error("validateFileUpload(): " + l.message), t.append('<div data-upload-filename="" style="font-weight: 600;">The file size of the form exceeded the maximum size.<br />You\'ll need to resize or lessen the files that you\'re trying to upload.</div>'), r = !1
            }
            if (r === !1) return !1;
            var d = ["No Error", "Exceeds the maximum filesize", "Exceeds the maximum filesize", "Will be partially uploaded", "No file uploaded", "Missing temporary folder", "Failed to write file to disk", "PHP will terminate the file upload"];
            $.each(r, function(e) {
                var n = r[e];
                t.append('<div data-upload-filename="' + e + '">Error on <b>' + e + "</b> due to " + n + "</div>");
                var i = t.find("[data-error-code]");
                if (i.length) {
                    var o = i.attr("data-error-code");
                    i.html("[" + d[o] + "]").removeAttr("data-error-code")
                }
            }), "function" == typeof i && i()
        }
    })
}
var URL_BASE = "";
$(document).ready(function() {
    var e = $("[data-url-base]");
    if (e.length) {
        var t = e.attr("data-url-base");
        "/" !== t[t.length - 1] && (t += "/"), URL_BASE = t
    }
    $.fn.clickableSelect = function() {
        var e = $(this);
        e.hide(0).after('<div class="clickableSelect"></div>');
        var t = e.next("div");
        return e.children("option").each(function() {
            var n = $(this);
            t.append("<div>" + n.html() + "</div>");
            var i = t.children("div:last-child");
            i.click(function(o) {
                o.preventDefault(), t.find(".selected").removeClass("selected"), i.addClass("selected"), e.val(n.val()).trigger("change")
            }), e.val() === n.val() && i.addClass("selected")
        }), e
    }, $.fn.initiateDatepicker = function() {
        var e = $(this),
            t = e.closest("table"),
            n = {};
        return n.showOtherMonths = !0, n.selectOtherMonths = !1, n.changeMonth = !0, n.changeYear = !0, n.showAnim = "slideDown", n.dateFormat = "yy-mm-dd", n.yearRange = "-150:+0", e.removeClass("hasDatepicker").datepicker("destroy").removeAttr("size").datepicker(n), t.length && t.hasClass("table-v2") && t.hasClass("form") || e.css({
            cursor: "pointer",
            padding: "2px 5px"
        }).attr("size", "11"), e.val().length || e.val("0000-00-00"), e
    }, $.fn.tooltip = function(e) {
        var t = $(this);
        return "string" != typeof e ? t : (t.bind("mouseover mouseenter mousemove", function(t) {
            var n = t.pageX + 10,
                i = t.pageY + 10,
                o = $("#tooltip");
            o.length || (o = $("body").append('<div id="tooltip"><div class ="icon">i</div>' + e + "</div>").children("#tooltip"));
            var a = {};
            a.width = "auto", a["min-width"] = "160px", a["max-width"] = "500px", a.padding = "10px 20px", a.top = i + "px", a.left = n + "px", a["border-radius"] = "3px", a["box-shadow"] = "1px 1px 3px rgba(0,0,0,0.35)", a["word-break"] = "normal";
            var r = {};
            r["float"] = "left", r.width = "10px", r.height = "10px", r.margin = "2px 3px 3px 0px", r["font-size"] = "0.45em", o.css(a).children(".icon").css(r)
        }).bind("mouseout mouseleave click mousedown mouseup", function() {
            var e = $("#tooltip");
            e.length && e.remove()
        }), t)
    }, systemBootstrap()
});
